(this["webpackJsonpclever-pizza"]=this["webpackJsonpclever-pizza"]||[]).push([[0],{151:function(e,t,a){},152:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a(13),i=a.n(c),o=a(51),s=a(18),l=a(107),d=(a(151),a(8)),u=a(19),j=a(40),p=a(17),b=a(237),h=a(240),m=a(242),O=a(241),g=(a(152),a(63)),f=a(217);function x(){return Object(n.jsxs)(g.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(f.a,{color:"inherit",href:"/",children:"Clever Pizza"})," ",(new Date).getFullYear(),"."]})}var v=a(245),y=a(224),T=a(112),A=a.n(T),C=a(218),E=a(33),S=a(239),I=a(223),P="USER/LOGOUT",D="USER/LOGIN",w="PRODUCT/FETCH/LIST",R="PRODUCT/FETCH/ONE",k="PRODUCT/ADD",z="PRODUCT/EDIT",N="APP/ALERT/SHOW",F="APP/ALERT/HIDE",B="APP/REDIRECT",W="APP/REDIRECT/CLEAR",L=a(76),_=a.n(L),q={API:"API",API_START:"API_START",API_END:"API_END",ACCESS_DENIED:"ACCESS_DENIED",API_ERROR:"API_ERROR"};function U(e){var t=e.url,a=void 0===t?"":t,n=e.method,r=void 0===n?"GET":n,c=e.data,i=void 0===c?null:c,o=e.accessToken,s=void 0===o?null:o,l=e.onSuccess,d=void 0===l?function(){}:l,u=e.onFailure,j=void 0===u?function(){}:u,p=e.label,b=void 0===p?"":p,h=e.headersOverride,m=void 0===h?null:h;return{type:q.API,payload:{url:a,method:r,data:i,accessToken:s,onSuccess:d,onFailure:j,label:b,headersOverride:m}}}var M=function(e){var t=e.dispatch;return function(e){return function(a){if(e(a),a.type===q.API){var n=a.payload,r=n.url,c=n.method,i=n.data,o=n.accessToken,s=n.onSuccess,l=n.onFailure,d=n.label,u=n.headersOverride,j=["GET","DELETE"].includes(c)?"params":"data";_.a.defaults.headers.common["Content-Type"]="application/json",null!==o&&(_.a.defaults.headers.common.Authorization="Bearer ".concat(o)),d&&t(function(e){return{type:q.API_START,payload:{label:e}}}(d)),_.a.request(Object(E.a)({url:r,method:c,headers:u},j,i)).then((function(e){var a=e.data;"object"===typeof s()?t(s(a)):s(a)})).catch((function(e){t(function(e){return{type:q.API_ERROR,payload:e}}(e.response.data)),"object"===typeof l()?t(l(e.response.data)):l(e),e.response&&401===e.response.status&&t(function(e){return{type:q.ACCESS_DENIED,payload:{url:e}}}(window.location.pathname))})).finally((function(){d&&t(function(e){return{type:q.API_END,payload:{label:e}}}(d))}))}}}},H={isFetchingData:!1},G=function(e){return{type:D,payload:Object(d.a)({},e)}},V=function(){return{type:P}},$=function(e){return console.log(e),U({url:"https://clever-pizza.herokuapp.com/api/auth/auto-login",method:"GET",headersOverride:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:{from:e},label:D,onSuccess:G})},J=a(219),K=Object(C.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Y=Object(s.b)((function(e){var t=e.data,a=void 0===t?{}:t,n=e.isFetchingData;return{data:a,isFetchingData:void 0!==n&&n}}),{fetchUser:function(e){return U({url:"https://clever-pizza.herokuapp.com/api/auth/login",method:"POST",headersOverride:{"Content-Type":"application/json",Accept:"application/json"},data:e,label:D,onSuccess:G})}})((function(e){var t=e.fetchUser,a=K(),c=Object(r.useState)({email:"",password:""}),i=Object(u.a)(c,2),o=i[0],s=i[1],l=function(e){s(Object(d.a)(Object(d.a)({},o),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(n.jsx)(J.a,{component:"main",maxWidth:"xs",children:Object(n.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:l}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:l}),Object(n.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(e){e.preventDefault(),t(Object(d.a)({},o))},children:"Sign In"})]})})})),Q=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}})),X=function(){var e=Q(),t=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:"Login: demo@example.com"}),Object(n.jsx)("p",{children:"Password: demodemo"})]});return Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsx)(Y,{}),Object(n.jsx)(v.a,{title:t,interactive:!0,arrow:!0,children:Object(n.jsx)(y.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(n.jsx)(A.a,{})})})]})},Z=a(225),ee=a(226),te=a(227),ae=a(228),ne=a(230),re=a(246),ce=a(114),ie=a.n(ce),oe=a(120),se=a(229),le=a(113),de=a.n(le),ue=function(e){return{type:w,payload:e}},je=function(e){return{type:R,payload:e}},pe=function(e){return{type:k,payload:Object(d.a)({},e)}},be=function(e){return{type:k,payload:Object(d.a)({},e)}},he=function(e){return U({url:"https://clever-pizza.herokuapp.com/api/product/remove",method:"POST",headersOverride:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:e,label:"PRODUCT/REMOVE",onSuccess:ue})},me=Object(C.a)({media:{height:140},price:{},priceDiscount:{color:"red"},width100:{width:"100%"},productCard:{height:"100%"},gutterBottom:{marginBottom:"16px"},discount:{marginLeft:"10px",fontSize:"0.875rem",textDecoration:"line-through"}}),Oe=Object(s.b)((function(e){return{loggedIn:e.user.loggedIn}}),{productRemove:he})((function(e){var t=e.data,a=e.loggedIn,c=me(),i=Object(r.useState)(null),o=Object(u.a)(i,2),l=o[0],d=o[1],p=Object(s.c)(),b=Boolean(l),h=t._id,m=t.name,O=t.description,f=t.image,x=t.price,v=t.discount,T=t.discountTo,A=function(){d(null)},C=Math.ceil((new Date(T)-Date.now())/864e5),E=(Math.round(100*(x-x*v/100))/100).toFixed(2);return Object(n.jsx)(Z.a,{item:!0,xs:12,sm:6,md:4,children:Object(n.jsx)(ee.a,{className:c.productCard,children:Object(n.jsxs)("div",{children:[Object(n.jsx)(te.a,{className:c.media,image:f,title:m}),Object(n.jsxs)(ae.a,{children:[Object(n.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(n.jsx)(Z.a,{item:!0,xs:!0,children:Object(n.jsx)(g.a,{gutterBottom:!0,variant:"h6",children:m})}),a&&Object(n.jsxs)(Z.a,{item:!0,children:[Object(n.jsx)(y.a,{"aria-label":"more","aria-controls":"actions-menu","aria-haspopup":"true",size:"small",onClick:function(e){d(e.currentTarget)},children:Object(n.jsx)(de.a,{})}),Object(n.jsxs)(oe.a,{id:"actions-menu",anchorEl:l,keepMounted:!0,open:b,onClose:A,children:[Object(n.jsx)(se.a,{component:j.b,to:"/edit/".concat(h),onClick:A,children:"Edit"}),Object(n.jsx)(se.a,{onClick:function(){p(he({_id:h})),A()},children:"Delete"})]})]})]}),Object(n.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsxs)(g.a,{gutterBottom:!0,variant:"subtitle1",className:"".concat(C>=0?c.priceDiscount:""),children:["$",C>=0?E:(Math.round(100*x)/100).toFixed(2)]})}),C>=0?Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsxs)(g.a,{className:c.discount,gutterBottom:!0,variant:"subtitle2",children:["$",(Math.round(100*x)/100).toFixed(2)]})}):""]}),C>=0&&Object(n.jsx)(ne.a,{variant:"middle"}),C>=0&&Object(n.jsx)(re.a,{icon:Object(n.jsx)(ie.a,{}),label:"Discound ends".concat(C>0?" in:":""," ").concat(C>0?C+" days":"today!"),color:"secondary",className:"".concat(c.width100," ").concat(c.gutterBottom)}),Object(n.jsx)(g.a,{color:"textSecondary",variant:"body2",children:O})]})]})})})})),ge=Object(s.b)((function(e){return{products:e.products}}),{productFetchList:function(){return function(e){return U({url:"https://clever-pizza.herokuapp.com/api/product/list",method:"GET",headersOverride:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},label:w,onSuccess:ue})}}})((function(e){var t=e.products,a=e.productFetchList,c=Object(s.c)();return Object(r.useEffect)((function(){c(a())}),[a,c]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(J.a,{children:Object(n.jsx)(Z.a,{container:!0,spacing:3,children:t.list.map((function(e){return Object(n.jsx)(Oe,{data:Object(d.a)({},e)},e._id)}))})})})})),fe=a(75),xe=a(23),ve=a(238),ye=a(231),Te=function(e,t){var a=Object(r.useState)(e),n=Object(u.a)(a,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c},Ae=function(e){var t=Object(r.useState)([0,0]),a=Object(u.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){if(e){var t=document.createElement("img");t.addEventListener("load",(function(e){var t=e.target,a=t.naturalHeight,n=t.naturalWidth;c([n,a])})),t.src=e}}),[e]),n},Ce=Object(C.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ee=Object(s.b)(null,{productAdd:function(e){return U({url:"https://clever-pizza.herokuapp.com/api/product/add",method:"POST",headersOverride:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:e,label:k,onSuccess:pe})}})((function(e){var t=e.productAdd,a=Ce(),c=Object(r.useState)({name:"",image:"",description:"",price:"",discount:0,discountTo:new Date}),i=Object(u.a)(c,2),o=i[0],s=i[1],l=Te(o.image,1e3),j=Object(r.useState)(""),p=Object(u.a)(j,2),b=p[0],h=p[1],m=Ae(b),O=Object(u.a)(m,2),f=O[0],x=O[1];Object(r.useEffect)((function(){l&&h(l)}),[l]);var v=function(e){s(Object(d.a)(Object(d.a)({},o),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(J.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Add new product"}),Object(n.jsxs)("form",{className:a.form,children:[Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,helperText:"Name length must be between 20 and 60 characters",error:o.name.length<20||o.name.length>60,id:"name",label:"Product name",name:"name",autoFocus:!0,onChange:v}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,error:f<200||x<200||f>4e3||x>4e3,fullWidth:!0,name:"image",label:"Image URL",id:"image",onChange:v}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",fullWidth:!0,helperText:"Description exceeds maximal description length (200 characters)",error:o.description.length>200,name:"description",label:"Description",multiline:!0,id:"description",onChange:v}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:o.price>99999999.99||o.price<=0,name:"price",label:"Price",id:"price",helperText:"Value must be more than 0 and less then 99999999.99",onChange:v,InputProps:{startAdornment:Object(n.jsx)(ye.a,{position:"start",children:"$"})}}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",error:o.discount<10||o.discount>90,required:o.discount.length>0,fullWidth:!0,name:"discount",label:"Discount amount",helperText:"Discount must be between 10% and 90%",id:"discount",onChange:v,InputProps:{startAdornment:Object(n.jsx)(ye.a,{position:"start",children:"%"})}}),o.discount.length>0&&Object(n.jsx)(xe.a,{utils:fe.a,children:Object(n.jsx)(ve.a,{disableToolbar:!0,disablePast:!0,fullWidth:!0,required:o.discount.length>0,inputVariant:"outlined",format:"dd/MM/yyyy",margin:"normal",label:"Discount end date",value:o.discountTo,onChange:function(e){s(Object(d.a)(Object(d.a)({},o),{},{discountTo:e}))},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(n.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(e){e.preventDefault(),t(o)},children:"Add"})]})]})})})),Se=Object(C.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ie=Object(s.b)((function(e){return{fetchedProduct:e.products.fetchedProduct}}),{productEdit:function(e){return U({url:"https://clever-pizza.herokuapp.com/api/product/edit",method:"POST",headersOverride:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},data:e,label:z,onSuccess:be})},productFetchOne:function(e){return function(t){return U({url:"https://clever-pizza.herokuapp.com/api/product/get/".concat(e),method:"GET",headersOverride:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},label:w,onSuccess:je})}}})((function(e){var t=e.fetchedProduct,a=e.productEdit,c=e.productFetchOne,i=Se(),o=Object(s.c)(),l=Object(r.useState)({name:"",image:"",description:"",price:"",discount:0,discountTo:new Date}),j=Object(u.a)(l,2),b=j[0],h=j[1],m=Te(b.image,1e3),O=Object(r.useState)(""),f=Object(u.a)(O,2),x=f[0],v=f[1],y=Ae(x),T=Object(u.a)(y,2),A=T[0],C=T[1],P=Object(p.g)().id;Object(r.useEffect)((function(){o(c(P))}),[c,P,o]),Object(r.useEffect)((function(){h(t)}),[t]),Object(r.useEffect)((function(){m&&v(m)}),[m]);var D=function(e){h(Object(d.a)(Object(d.a)({},b),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(J.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Edit product"}),Object(n.jsxs)("form",{className:i.form,children:[Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,value:b.name,fullWidth:!0,helperText:"Name length must be between 20 and 60 characters",error:b.name.length<20||b.name.length>60,id:"name",label:"Product name",name:"name",autoFocus:!0,onChange:D}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",error:A<200||C<200||A>4e3||C>4e3,value:b.image,required:!0,fullWidth:!0,name:"image",label:"Image URL",id:"image",onChange:D}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",value:b.description,fullWidth:!0,helperText:"Description exceeds maximal description length (200 characters)",error:b.description.length>200,name:"description",label:"Description",multiline:!0,id:"description",onChange:D}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",value:b.price,required:!0,fullWidth:!0,error:b.price>99999999.99||b.price<=0,name:"price",label:"Price",id:"price",helperText:"Value must be more than 0 and less then 99999999.99",onChange:D,InputProps:{startAdornment:Object(n.jsx)(ye.a,{position:"start",children:"$"})}}),Object(n.jsx)(S.a,{variant:"outlined",margin:"normal",value:b.discount,error:b.discount<10||b.discount>90,required:b.discount.length>0,fullWidth:!0,name:"discount",label:"Discount amount",helperText:"Discount must be between 10% and 90%",id:"discount",onChange:D,InputProps:{startAdornment:Object(n.jsx)(ye.a,{position:"start",children:"%"})}}),b.discount.length>0&&Object(n.jsx)(xe.a,{utils:fe.a,children:Object(n.jsx)(ve.a,{disableToolbar:!0,disablePast:!0,fullWidth:!0,value:b.discountTo,required:b.discount.length>0,inputVariant:"outlined",format:"dd/MM/yyyy",margin:"normal",label:"Discount end date",onChange:function(e){h(Object(d.a)(Object(d.a)({},b),{},{discountTo:e}))},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(n.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,onClick:function(e){e.preventDefault(),a(b)},children:"Save changes"})]})]})})})),Pe=function(e){return function(t){t(function(e){var t=e.message,a=e.type;return{type:N,payload:{message:t,type:a}}}(e))}},De=function(){return function(e){e({type:F})}},we=function(e){var t=e.redirectTo;return function(e){e(function(e){return{type:B,payload:e}}(t)),e({type:W})}},Re=a(236),ke=a(233),ze=a(26),Ne=a(115),Fe=a.n(Ne),Be=a(116),We=a.n(Be),Le=a(117),_e=a.n(Le),qe=a(118),Ue=a.n(qe),Me=a(243),He=a(222),Ge=a(176),Ve=a(119),$e=a.n(Ve),Je=a(235),Ke=a(234),Ye=240,Qe=Object(C.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appBar:{marginBottom:"32px",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginBottom:"32px",width:"calc(100% - ".concat(Ye,"px)"),marginLeft:Ye,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},drawer:{width:Ye,flexShrink:0},drawerPaper:{width:Ye},drawerHeader:Object(d.a)(Object(d.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})}}));function Xe(e){var t=e.icon,a=e.primary,c=e.to,i=Object(r.useMemo)((function(){return Object(r.forwardRef)((function(e,t){return Object(n.jsx)(j.b,Object(d.a)({to:c,ref:t},e))}))}),[c]);return Object(n.jsx)("li",{children:Object(n.jsxs)(Ge.a,{button:!0,component:i,children:[t?Object(n.jsx)(Ke.a,{children:t}):null,Object(n.jsx)(Je.a,{primary:a})]})})}var Ze=Object(s.b)((function(e){return{loggedIn:e.user.loggedIn}}),{logoutUser:V})((function(e){var t=e.loggedIn,a=Qe(),c=Object(ze.a)(),i=Object(s.c)(),o=Object(r.useState)(!1),l=Object(u.a)(o,2),d=l[0],p=l[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Re.a,{className:d&&t?a.appBarShift:a.appBar,position:"static",children:Object(n.jsxs)(ke.a,{children:[t&&Object(n.jsx)(y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){p(!0)},edge:"start",className:d?"".concat(a.menuButton," ").concat(a.hide):"",children:Object(n.jsx)(Fe.a,{})}),Object(n.jsx)(g.a,{variant:"h6",className:a.title,children:"Clever Pizza App"}),!t&&Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{color:"inherit",component:j.b,to:"/login",children:"Login"})}),t&&Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{color:"inherit",onClick:function(){i(V())},children:"Logout"})})]})}),t&&Object(n.jsxs)(Me.a,{className:a.drawer,variant:"persistent",anchor:"left",open:d,classes:{paper:a.drawerPaper},children:[Object(n.jsx)("div",{className:a.drawerHeader,children:Object(n.jsx)(y.a,{onClick:function(){p(!1)},children:"ltr"===c.direction?Object(n.jsx)(We.a,{}):Object(n.jsx)(_e.a,{})})}),Object(n.jsx)(ne.a,{}),Object(n.jsxs)(He.a,{children:[Object(n.jsx)(Xe,{to:"/",primary:"Catalog",icon:Object(n.jsx)(Ue.a,{})}),Object(n.jsx)(Xe,{to:"/add",primary:"Create product",icon:Object(n.jsx)($e.a,{})})]})]})]})})),et=Object(s.b)((function(e){return{isAlert:e.app.isAlert,alert:e.app.alert,redirectTo:e.app.redirectTo,loggedIn:e.user.loggedIn}}),(function(){return{autoLogin:$,alertHide:De}}))((function(e){var t=e.autoLogin,a=e.isAlert,c=e.alert,i=e.redirectTo,o=(e.loggedIn,e.alertHide),l=Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{path:"/",exact:!0,children:Object(n.jsx)(ge,{})}),Object(n.jsx)(p.b,{path:"/login",exact:!0,children:Object(n.jsx)(X,{})}),Object(n.jsx)(p.b,{path:"/add",exact:!0,children:Object(n.jsx)(Ee,{})}),Object(n.jsx)(p.b,{path:"/edit/:id",children:Object(n.jsx)(Ie,{})}),Object(n.jsx)(p.a,{to:"/"})]}),g=Object(s.c)(),f=Object(r.useState)({type:"success",message:""}),v=Object(u.a)(f,2),y=v[0],T=v[1];Object(r.useEffect)((function(){T(Object(d.a)({},c))}),[c]),Object(r.useEffect)((function(){localStorage.getItem("token")&&g(t(window.location.pathname))}),[t,g]);var A=function(){g(o())};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(j.a,{children:[""!==i&&Object(n.jsx)(p.a,{to:i}),Object(n.jsx)(b.a,{}),Object(n.jsx)(Ze,{}),l,Object(n.jsx)(h.a,{mt:4,children:Object(n.jsx)(x,{})}),Object(n.jsx)(m.a,{open:a,disableWindowBlurListener:!0,autoHideDuration:2e3,onClose:A,children:Object(n.jsx)(O.a,{onClose:A,severity:y.type,children:y.message.split("\n").map((function(e){return Object(n.jsx)("p",{style:{margin:"0"},children:e},"".concat(e))}))})})]})})})),tt=a(89),at={list:[],fetchedProduct:{name:"",image:"",description:"",price:"",discount:"",discountTo:""}},nt={loggedIn:!1,user:{}},rt={isAlert:!1,redirectTo:"",alert:{type:"success",message:""}},ct=Object(o.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(d.a)(Object(d.a)({},e),{},{list:t.payload});case R:return Object(d.a)(Object(d.a)({},e),{},{fetchedProduct:t.payload});case k:return Object(d.a)(Object(d.a)({},e),{},{list:[].concat(Object(tt.a)(e.list),[t.payload.product])});case z:return Object(d.a)(Object(d.a)({},e),{},{list:Object(tt.a)(t.payload)});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return localStorage.setItem("token",t.payload.user.token),{loggedIn:!0,user:Object(d.a)({},t.payload.user)};case P:return localStorage.clear(),{loggedIn:!1,user:{}};default:return e}},api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.API_START:return Object(d.a)(Object(d.a)({},e),{},{isFetchingData:!0});case q.API_END:return Object(d.a)(Object(d.a)({},e),{},{isFetchingData:!1});case q.ACCESS_DENIED:return Object(d.a)(Object(d.a)({},e),{},{isFetchingData:!1,redirectTo:t.payload});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(d.a)(Object(d.a)({},e),{},{isAlert:!0,alert:{type:t.payload.type||"success",message:t.payload.message||""}});case F:return Object(d.a)(Object(d.a)({},e),{},{isAlert:!1});case B:return Object(d.a)(Object(d.a)({},e),{},{redirectTo:t.payload});case W:return Object(d.a)(Object(d.a)({},e),{},{redirectTo:""});default:return e}}}),it=Object(o.e)(ct,Object(o.d)(Object(o.a)(l.a,M,(function(e){var t=e.dispatch;return function(e){return function(a){if(e(a),[q.API_ERROR].includes(a.type)){var n=a.payload.messages.join("\n");t(Pe({message:n,type:"error"}))}[k,z].includes(a.type)&&t(Pe({message:a.payload.message,type:"success"})),[D].includes(a.type)&&t(we({redirectTo:a.payload.from}))}}}))));i.a.render(Object(n.jsx)(s.a,{store:it,children:Object(n.jsx)(et,{})}),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.9b938d6f.chunk.js.map